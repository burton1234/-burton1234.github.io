<!DOCTYPE html>
<html lang="en-us">
  <head>
        <title>Weather Site</title>
        <meta http-equiv="x-ua-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
        <link rel="stylesheet" href= "styles/normalize.css">
        <link rel="stylesheet" href= "/assignments/lesson-9/style8.css">
  </head> 
  
  <body>    
        
        
  <main>    
                           
        
         
           
                  
          <header>
               
          </header>               
                         
          <section>
            <img name="test" src= "/assignments/lesson-7/images/weatherstorm.jpg" alt="background image" >    
          </section>               
                         
          <script>
          var header = document.querySelector('header');
          var section = document.querySelector('section');
          var requestURL = 'https://burton1234.github.io/assignments/lesson-9/towndata.json';
          var request = new XMLHttpRequest();
          request.open('GET', requestURL);
          request.responseType = 'json';
          request.send();
          request.onload = function() {
           var towndata = request.response;
           populateHeader(towndata);
           showTowns(towndata);
         }
         function populateHeader(jsonObj) {
                     var myH1 = document.createElement('h1');
                     myH1.textContent = jsonObj['pagename'];
                     header.appendChild(myH1);
                   
                     var myPara = document.createElement('p');
                     myPara.textContent = 'Page Name: ' + jsonObj['pagename'] + ' // Created : ' + jsonObj['created'];
                     header.appendChild(myPara);
                   }
                   function showTowns(jsonObj) {
           var towns = jsonObj['towns'];
               
           for (var i = 0; i < towns.length; i++) {
             var myArticle = document.createElement('article');
             var myH2 = document.createElement('h2');
             var myPara1 = document.createElement('p');
             var myPara2 = document.createElement('p');
             var myPara3 = document.createElement('p');
             var myList = document.createElement('ul');
         
             myH2.textContent = towns[i].name;
             myPara1.textContent = 'Name: ' + towns[i].name;
             myPara2.textContent = 'Motto: ' + towns[i].motto;
             myPara3.textContent = 'Year Founded:';
                 
             var yearfounded = name[i].motto;
             for (var j = 0; j < yearfounded.length; j++) {
               var listItem = document.createElement('li');
               listItem.textContent = yearfounded[j];
               myList.appendChild(listItem);
             }
         
             myArticle.appendChild(myH2);
             myArticle.appendChild(myPara1);
             myArticle.appendChild(myPara2);
             myArticle.appendChild(myPara3);
             myArticle.appendChild(myList);
             section.appendChild(myArticle);
           }
         }
          </script> 
          
        <footer>
                &copy;2018 || William Burton || Location: California ||   
                <a href="http://www.byui.edu/online"> BYU-Idaho Online Learning</a>
        </footer>
        
    
        
  </main>
  </body>
</html>